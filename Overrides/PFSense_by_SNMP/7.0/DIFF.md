# Compare Rabe Override with Upstream Template

Original: [PFSense by SNMP](https://raw.githubusercontent.com/zabbix/zabbix/refs/heads/release/7.0/templates/app/pfsense_snmp/template_app_pfsense_snmp.yaml)

## Diff

```diff
--- before
+++ after
@@ -20,6 +20,10 @@
         HOST-RESOURCES-MIB
         
         Generated by official Zabbix template tool "Templator"
+        
+        RaBe Changes:
+        - Override dhcpd to kea-dhhcp4
+        - Override default hsitory on items to 7d
       vendor:
         name: Zabbix
         version: 7.0-2
@@ -114,6 +118,7 @@
           type: DEPENDENT
           key: pfsense.dhcpd.status
           delay: '0'
+          history: 7d
           description: |
             MIB: HOST-RESOURCES-MIB
             The status of DHCP server process.
@@ -122,7 +127,7 @@
           preprocessing:
             - type: JSONPATH
               parameters:
-                - '$[?(@.hrSWRunName == ''dhcpd'')].hrSWRunStatus.first()'
+                - '$[?(@.hrSWRunName == ''kea-dhcp4'')].hrSWRunStatus.first()'
               error_handler: CUSTOM_VALUE
               error_handler_params: '0'
           master_item:
@@ -145,6 +150,7 @@
           type: DEPENDENT
           key: pfsense.dns.status
           delay: '0'
+          history: 7d
           description: |
             MIB: HOST-RESOURCES-MIB
             The status of DNS server process.
@@ -176,6 +182,7 @@
           type: DEPENDENT
           key: pfsense.nginx.status
           delay: '0'
+          history: 7d
           description: |
             MIB: HOST-RESOURCES-MIB
             The status of nginx process.
@@ -207,6 +214,7 @@
           type: DEPENDENT
           key: pfsense.packets.bad.offset
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -230,6 +238,7 @@
           type: DEPENDENT
           key: pfsense.packets.fragment
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -253,6 +262,7 @@
           type: DEPENDENT
           key: pfsense.packets.match
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -276,6 +286,7 @@
           type: DEPENDENT
           key: pfsense.packets.mem.drop
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -299,6 +310,7 @@
           type: DEPENDENT
           key: pfsense.packets.normalize
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -322,6 +334,7 @@
           type: DEPENDENT
           key: pfsense.packets.short
           delay: '0'
+          history: 7d
           value_type: FLOAT
           units: pps
           description: |
@@ -345,6 +358,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.1.1.0]'
           key: pfsense.pf.status
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             True if packet filter is currently enabled.
@@ -384,6 +398,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.11.1.0]'
           key: pfsense.rules.count
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             The number of labeled filter rules on this system.
@@ -395,6 +410,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.4.1.0]'
           key: pfsense.source.tracking.table.count
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             Number of entries in the source tracking table.
@@ -406,6 +422,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.5.2.0]'
           key: pfsense.source.tracking.table.limit
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             Maximum number of 'sticky-address' or 'source-track' rules in the ruleset.
@@ -416,6 +433,7 @@
           name: 'Source tracking table utilization in %'
           type: CALCULATED
           key: pfsense.source.tracking.table.pused
+          history: 7d
           value_type: FLOAT
           units: '%'
           params: 'last(//pfsense.source.tracking.table.count) * 100 / last(//pfsense.source.tracking.table.limit)'
@@ -439,6 +457,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.3.1.0]'
           key: pfsense.state.table.count
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             Number of entries in the state table.
@@ -450,6 +469,7 @@
           type: SNMP_AGENT
           snmp_oid: 'get[1.3.6.1.4.1.12325.1.200.1.5.1.0]'
           key: pfsense.state.table.limit
+          history: 7d
           description: |
             MIB: BEGEMOT-PF-MIB
             Maximum number of 'keep state' rules in the ruleset.
@@ -460,6 +480,7 @@
           name: 'States table utilization in %'
           type: CALCULATED
           key: pfsense.state.table.pused
+          history: 7d
           value_type: FLOAT
           units: '%'
           params: 'last(//pfsense.state.table.count) * 100 / last(//pfsense.state.table.limit)'
@@ -505,6 +526,7 @@
           name: 'SNMP agent availability'
           type: INTERNAL
           key: 'zabbix[host,snmp,available]'
+          history: 7d
           description: |
             Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
             Possible values:
@@ -586,6 +608,7 @@
               type: DEPENDENT
               key: 'net.if.in.block.v4.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -616,6 +639,7 @@
               type: DEPENDENT
               key: 'net.if.in.block.v4.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -643,6 +667,7 @@
               type: DEPENDENT
               key: 'net.if.in.block.v6.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -673,6 +698,7 @@
               type: DEPENDENT
               key: 'net.if.in.block.v6.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -700,6 +726,7 @@
               type: DEPENDENT
               key: 'net.if.in.discards[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 The number of inbound packets which were chosen to be discarded
@@ -729,6 +756,7 @@
               type: DEPENDENT
               key: 'net.if.in.errors[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
@@ -770,6 +798,7 @@
               type: DEPENDENT
               key: 'net.if.in.pass.v4.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -800,6 +829,7 @@
               type: DEPENDENT
               key: 'net.if.in.pass.v4.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -827,6 +857,7 @@
               type: DEPENDENT
               key: 'net.if.in.pass.v6.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -857,6 +888,7 @@
               type: DEPENDENT
               key: 'net.if.in.pass.v6.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -884,6 +916,7 @@
               type: DEPENDENT
               key: 'net.if.in[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: IF-MIB
@@ -913,6 +946,7 @@
               type: DEPENDENT
               key: 'net.if.out.block.v4.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -943,6 +977,7 @@
               type: DEPENDENT
               key: 'net.if.out.block.v4.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -970,6 +1005,7 @@
               type: DEPENDENT
               key: 'net.if.out.block.v6.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1000,6 +1036,7 @@
               type: DEPENDENT
               key: 'net.if.out.block.v6.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1027,6 +1064,7 @@
               type: DEPENDENT
               key: 'net.if.out.discards[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 The number of outbound packets which were chosen to be discarded
@@ -1056,6 +1094,7 @@
               type: DEPENDENT
               key: 'net.if.out.errors[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 For packet-oriented interfaces, the number of outbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of outbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol. Discontinuities in the value of this counter can occur at re-initialization of the management system, and at other times as indicated by the value of ifCounterDiscontinuityTime.
@@ -1097,6 +1136,7 @@
               type: DEPENDENT
               key: 'net.if.out.pass.v4.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1127,6 +1167,7 @@
               type: DEPENDENT
               key: 'net.if.out.pass.v4.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1154,6 +1195,7 @@
               type: DEPENDENT
               key: 'net.if.out.pass.v6.bps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1184,6 +1226,7 @@
               type: DEPENDENT
               key: 'net.if.out.pass.v6.pps[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: pps
               description: |
                 MIB: BEGEMOT-PF-MIB
@@ -1211,6 +1254,7 @@
               type: DEPENDENT
               key: 'net.if.out[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: IF-MIB
@@ -1240,6 +1284,7 @@
               type: DEPENDENT
               key: 'net.if.rules.refs[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: BEGEMOT-PF-MIB
                 The number of rules referencing this interface.
@@ -1263,6 +1308,7 @@
               type: DEPENDENT
               key: 'net.if.speed[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               units: bps
               description: |
                 MIB: IF-MIB
@@ -1292,6 +1338,7 @@
               type: DEPENDENT
               key: 'net.if.status[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 The current operational state of the interface.
@@ -1338,6 +1385,7 @@
               type: DEPENDENT
               key: 'net.if.type[{#SNMPINDEX}]'
               delay: '0'
+              history: 7d
               description: |
                 MIB: IF-MIB
                 The type of interface.


```
